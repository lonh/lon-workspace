<!DOCTYPE html>
<html lang="en">
<head>
  <title>MiM</title>
  <link type="text/css" href="/css/common.css" rel="stylesheet" />
  <!-- <link type="text/css" href="/jquery-ui-1.10.0.custom/css/smoothness/jquery-ui-1.10.0.custom.min.css" rel="stylesheet" /> -->
  <link type="text/css" href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link type="text/css" href="/bootstrap/css/bootstrap-custom.css" rel="stylesheet" />
  <!-- <link type="text/css" href="/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" /> -->
</head>
<body>
    <ul id="main-nav-tab" class="nav nav-tabs">
      <li class="active"><a href="#options-tab" data-toggle="tab">Options</a></li>
      <li><a href="#notifications-tab" data-toggle="tab">Notifications</a></li>
      <li><a href="#monitor-tab" data-toggle="tab">Request</a></li>
      <li><a href="#autofills-tab" data-toggle="tab">Form</a></li>
    </ul>
    <!-- 
    <div id="main-menu">
        <input type="radio" id="options" name="main-menu" /><label for="options">Options</label>
        <input type="radio" id="notifications" name="main-menu" /><label for="notifications">Notifications</label>
        <input type="radio" id="monitor" name="main-menu" /><label for="monitor">Requests</label>
        <input type="radio" id="autofills" name="main-menu" /><label for="autofills">Fill Form</label>
    </div>
     -->
    <div id="main-tab-content" class="tab-content">
	    <div id="options-tab" class="tab-pane in active">
	      <ul id="options-nav" class="nav nav-pills">
		      <li class="active"><a data-toggle="pill" href="#replace-rules"><!-- <i class="glyphicon glyphicon-sort small"></i> -->Rules</a></li>
			    <li><a data-toggle="pill" href="#watches"><!-- <i class="glyphicon glyphicon-eye-open small"></i>  -->Watches</a></li>
			    <li><a data-toggle="pill" href="#custom-headers"><!-- <i class="glyphicon glyphicon-header small"></i>  -->Headers</a></li>
			    <li><a data-toggle="pill" href="#blocks"><!-- <i class="glyphicon glyphicon-stop small"></i>  -->Blocks</a></li>
			    <li><a data-toggle="pill" href="#misc">Misc</a></li>
			    <li class="dropdown">
			     <a class="dropdown-toggle" data-toggle="dropdown" href="#">New <span class="caret"></span></a>
			     <ul class="dropdown-menu" role="menu">
			         <li role="presentation"><a role="menuitem" href="#" class="new-rule">Search/replace Rule</a></li>
			         <li role="presentation"><a role="menuitem" href="#" class="new-watch">Watch</a></li>
			         <li role="presentation"><a role="menuitem" href="#" class="new-header">Custom Header</a></li>
               <li role="presentation"><a role="menuitem" href="#" class="new-block">Block</a></li>
			     </ul>
			    </li>
		    </ul>
        <div id="options-tab-content" class="tab-content">
          <div id="replace-rules" class="tab-pane in active"></div>
          <div id="watches" class="tab-pane"></div>
          <div id="blocks" class="tab-pane"></div>
          <div id="custom-headers" class="tab-pane"></div>
          <div id="misc" class="tab-pane">
                  <input type="checkbox" class="toggle" id="calleronly" />
              <label for="calleronly" 
                  title="Only intercept the triggering tab.<br/>(Default to all tabs)" >
                    Only monitor on calling tab.
              </label>
              <br/>
              <input type="checkbox" class="toggle" id="shownotifications" />
              <label for="shownotifications" 
                  title="Send desktop notification when 'Watching' request detected." >
                    Display <b>desktop</b> notifications.
              </label>
            </div>
        </div>
		    
		  
	      <!--
	      <div class="actions">
	        <button type="button" class="btn btn-default btn-sm new-rule" 
	            title="Define a search/replace value pair.<br/><br/>
	            E.g.: with <b>'cat/dog'</b><br/>
	            [http://somthing/about/<u>cat</u>.html]<br/>
	            Replaced with<br/>
	            [http://somthing/about/<u>dog</u>.html]<br/><br/>
	            All requests are logged in 'Requests' tab.">
	            New rule
	        </button>
	        <button type="button" class="btn btn-default btn-sm new-watch" 
	            title="Define a watching value, trigger notification when request contains the value.<br/><br/>
	            E.g.: with <b>'analytics'</b>, <br/>
	            [http://somthing-<u>analytics</u>/about/stuff.html] will trigger a notification.<br/><br/>
	            All detected requests are logged in 'Notifications' tab.">
	            New watch
	        </button>
	        <button type="button" class="btn btn-default btn-sm new-header" 
	            title="Define a request header name/value pair.">
	            New Header
	        </button>
	        <button type="button" class="btn btn-default btn-sm exit">Exit</button>
	      </div>
	      -->

	    </div>
	    
	    <div id="notifications-tab" class="tab-pane">
	      <div class="list"></div>
	      <div class="actions btn-group btn-group-sm">
	        <button type="button" class="btn btn-default clear">Clear</button>
	        <button type="button" class="btn btn-default exit">Exit</button>
	      </div>
	    </div>
	    
	    <div id="monitor-tab" class="tab-pane">
	      <div class="list"></div>
	      <div class="actions btn-group btn-group-sm">
	        <button type="button" class="btn btn-default clear">Clear</button>
	        <button type="button" class="btn btn-default exit">Exit</button>
	      </div>
	    </div>
	    
	    <div id="autofills-tab" class="tab-pane">
	      <div class="list"></div>
	      <div class="actions btn-group btn-group-sm">
	        <button type="button" class="btn btn-default record" 
	            title="Record form data from current page.">Record</button>
	        <button type="button" class="btn btn-default form-data" 
	            title="Display/Edit/Save recorded form data.">Form Data</button>
	        <button type="button" class="btn btn-default fill" 
	            title="Fill form with selected form data.">Fill</button>
	        <button type="button" class="btn btn-default exit">Exit</button>
	      </div>
	    </div>
	  </div>
  </div>
    
  <!-- Mesasges -->
  <div class="alert alert-success options-saved">Options saved.</div>   
  <div class="alert alert-success form-data-saved">Form data saved.</div>   
    
  <div id="templates" style="display:none;">
    <!-- Filter rule template -->
    <ul class="rule-template">
      {{#rules}}
      <div class="rule">
        <div class="entry input-group">
          <span class="input-group-addon">
            <input type="checkbox" class="toggle" {{#checked}}checked=checked{{/checked}}/>
          </span>
          <div>
            <input type="text" class="source form-control" placeholder="Search string in request" value="{{source}}"/>
            <input type="text" class="replace form-control" placeholder="Replace with" value="{{replace}}"/>
          </div>
          <span class="input-group-addon">
            <button type="button" class="close" aria-hidden="true">&times;</button>
          </span>
          <!-- <div class="del"></div> -->
        </div>
      </div>
      {{/rules}}
    </ul>
    <ul class="watch-template">
      {{#watches}}
      <div class="watch">
        <div class="entry input-group">
          <span class="input-group-addon">
            <input type="checkbox" class="/* toggle */" {{#checked}}checked=checked{{/checked}}/>
          </span>
          <div class="/*inputs*/">
            <input type="text" class="source watch form-control" placeholder="Capture request with string ..." value="{{source}}"/>
          </div>
          <span class="input-group-addon">
            <button type="button" class="close" aria-hidden="true">&times;</button>
          </span>
         <!--  <div class="del"></div> -->
        </div>
      </div>
      {{/watches}}
    </ul>
    <ul class="block-template">
      {{#watches}}
      <div class="block">
        <div class="entry input-group">
          <span class="input-group-addon">
            <input type="checkbox" class="/* toggle */" {{#checked}}checked=checked{{/checked}}/>
          </span>
          <div class="/*inputs*/">
            <input type="text" class="source block form-control" placeholder="Block request with string" value="{{source}}"/>
          </div>
          <span class="input-group-addon">
            <button type="button" class="close" aria-hidden="true">&times;</button>
          </span>
         <!--  <div class="del"></div> -->
        </div>
      </div>
      {{/watches}}
    </ul>
    <ul class="request-header-template">
      {{#headers}}
      <div class="request-headers">
	      <div class="entry input-group">
	        <span class="input-group-addon">
	           <input type="checkbox" class="/* toggle */" {{#checked}}checked=checked{{/checked}}/>
	        </span>
	        <div class="/*inputs*/">
	          <input type="text" class="name form-control" placeholder="Header Name" value="{{name}}" />
	          <input type="text" class="value form-control" placeholder="Header Value" value="{{value}}" />
	        </div>
	        <span class="input-group-addon">
	            <button type="button" class="close" aria-hidden="true">&times;</button>
	        </span>
	        <!-- <div class="del"></div> -->
	      </div>
      </div>
      {{/headers}}
    </ul>

    <!-- Intercepted request log template -->
    <div class="request-log-template">
      <div class="request-log">
        {{#matchers}}
        <div class="matcher">
          <div class="source">
            <span class="head">{{ohead}}</span><span class="body">{{obody}}</span><span class="tail">{{otail}}</span>
          </div>
          <div class="result">
            <span class="head">{{rhead}}</span><span class="body">{{rbody}}</span><span class="tail">{{rtail}}</span>
          </div>
        </div>
        {{/matchers}}
      </div>
    </div>

    <div class="request-trace-template">
      <div class="request-trace">
        <a href="{{url}}" target="_blank">{{url}}</a>
        <div class="paramlist">
          {{#paramlist}}
            <div class="param">
              <span class="name">{{name}}</span><span class="value">{{value}}</span>
            </div>
          {{/paramlist}}
        </div>
      </div>
    </div>

    <div class="notification-log-template">
      <div class="notification-log">
        <a href="{{url}}" target="_blank">{{url}}</a>
        <div class="paramlist">
          {{#paramlist}}
            <div class="param">
              <span class="name">{{name}}</span><span class="value">{{value}}</span>
            </div>
          {{/paramlist}}
        </div>
      </div>
    </div>
    
    <div class="autofill-template">
      {{#autofills}}
        <div class="entry">
          <button type="button" class="close" aria-hidden="true" >&times;</button>
          <div class="form-data">
            <input type="radio" class="toggle" name="autofills"/>
            <a href="#" class="pagename">{{pagename}}</a>
            <div class="input-group notes">
	            <span class="input-group-addon">Notes:</span>
	            <div>
    	            <input type="text" class="form-control" name="comment" value="{{comment}}" />
	                <input type="hidden" name="pagename" value="{{pagename}}"/>
	                <input type="hidden" name="hostname" value="{{hostname}}"/>
	            </div>
	        </div>
            <ol class="fields-list">
                {{#forms}}
                <li>
                  <form class="form-horizontal" role="form">
                  {{#.}}
                    <div class="form-group">
                        <label for="{{name}}" class="col-xs-3 control-label">{{name}}</label>
                        <div class="col-xs-9">
	                        <input type="text" class="form-control" id="{{name}}" name="{{name}}" value="{{value}}" >
                        </div>
                    </div>
                  {{/.}}
                  </form>
                </li>
                {{/forms}}
            </ol>
          </div>
        </div>
      {{/autofills}}
    </div>

    <!-- Dialogs  -->
    <!-- <div id="dialog-delete-form-entry" title="Confirmation">
      <p>This will delete the form data from local storage and cannot be undo!</p>
    </div> -->
    

    <div id="dialog-update-form-entry" title="Confirmation">
      <p>This will replace the form data in your local storage and cannot be undo!</p>
    </div>
    
    <div id="dialog-choose-form" title="Message">
      <p>Please choose a form entry!</p>
    </div>
  
    <!-- Modal -->
	<div class="modal fade" id="dialog-form-data" tabindex="-1" role="dialog" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h4 class="modal-title" id="myModalLabel">Access form data</h4>
	      </div>
	      <div class="modal-body">
	        <textarea class="form-data-content"></textarea>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default small" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary small">Save changes</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
  
    <!-- <div id="dialog-form-data" title="Access form data">
      <textarea class="form-data-content"></textarea>
    </div> -->
    
    
  </div> <!-- /.templates -->    
    
  <div class="modal fade" id="dialog-delete-form-entry" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h5 class="modal-title">Delete form data entry!</h5>
        </div>
        <div class="modal-body">
          <p>This will delete the form data from local storage and cannot be undo!</p>
        </div>
        <div class="modal-footer">
	        <div class="btn-group btn-group-sm">
	          <button type="button" class="btn btn-default cancel" data-dismiss="modal">Cancel</button>
	          <button type="button" class="btn btn-primary ok">OK</button>
	        </div>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  
  <script type="text/javascript" src="/js/jquery-2.0.3.min.js"></script>
  <!-- <script type="text/javascript" src="/jquery-ui-1.10.0.custom/js/jquery-ui-1.10.0.custom.min.js"></script> -->
  <script type="text/javascript" src="/js/jquery.mustache.js"></script>
  <script type="text/javascript" src="/js/jquery.mHub.js"></script>
  <script type="text/javascript" src="/js/main.js"></script>
  <script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
</body>
</html>