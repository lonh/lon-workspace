<html>
<head>
<title>MiM</title>
<link type="text/css" href="/css/common.css" rel="stylesheet" />
<link type="text/css" href="/jquery-ui-1.10.0.custom/css/smoothness/jquery-ui-1.10.0.custom.min.css" rel="stylesheet" />
<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/jquery-ui-1.10.0.custom/js/jquery-ui-1.10.0.custom.min.js"></script>
<script type="text/javascript" src="/js/jquery.mustache.js"></script>
<script type="text/javascript" src="/js/jquery.mHub.js"></script>
<script type="text/javascript" src="/js/main.js"></script>
</head>
<body>
  <div id="tabs">
    <div id="main-menu">
        <input type="radio" id="options" name="main-menu" /><label for="options">Options</label>
        <input type="radio" id="notifications" name="main-menu" /><label for="notifications">Notifications</label>
        <input type="radio" id="monitor" name="main-menu" /><label for="monitor">Requests</label>
        <input type="radio" id="autofills" name="main-menu" /><label for="autofills">Auto Fill</label>
    </div>
    <div id="options-tab" class="container">
      <div class="list">
        <ul></ul>
      </div>
      <div class="actions settings">
        <input type="checkbox" class="toggle" id="calleronly" /><label for="calleronly">Only monitor on caller tab.</label>
        <input type="checkbox" class="toggle" id="shownotifications" /><label for="shownotifications">Display <b>desktop</b> notifications.</label>
      </div>
      <div class="actions">
        <button class="new-rule">New rule</button>
        <button class="new-watch">New watch</button>
        <button class="exit">Exit</button>
      </div>
      <div class="footer">
        <p class="status"></p>
      </div>
    </div>
    <div id="notifications-tab" class="container">
      <div class="list">
        <div class="items"></div>
      </div>
      <div class="actions">
        <button class="clear">Clear</button>
        <button class="exit">Exit</button>
      </div>
      <div class="footer">
        <p class="status"></p>
      </div>
    </div>
    <div id="monitor-tab" class="container">
      <div class="list">
        <div class="items"></div>
      </div>
      <div class="actions">
        <button class="clear">Clear</button>
        <button class="exit">Exit</button>
      </div>
      <div class="footer">
        <p class="status"></p>
      </div>
    </div>
    <div id="autofills-tab" class="container">
      <div class="list">
        <ul></ul>
      </div>
      <div class="actions">
        <button class="record">Record</button>
        <button class="fill">Fill</button>
      </div>
      <div class="footer">
        <p class="status"></p>
      </div>
    </div>
  </div>

  <div id="templates">
    <!-- Filter rule template -->
    <ul class="rule-template">
      {{#rules}}
      <li class="rule">
        <div class="entry">
          <input type="checkbox" class="toggle" {{#checked}}checked=checked{{/checked}}/>
          <div class="inputs">
            <input type="text" class="source" value="{{source}}"/>
            <input type="text" class="replace" value="{{replace}}"/>
          </div>
          <div class="del"></div>
        </div>
      </li>
      {{/rules}}
    </ul>
    <ul class="watch-template">
      {{#watches}}
      <li class="watch">
        <div class="entry">
          <input type="checkbox" class="toggle" {{#checked}}checked=checked{{/checked}}/>
          <div class="inputs">
            <input type="text" class="source watch" value="{{source}}"/>
          </div>
          <div class="del"></div>
        </div>
      </li>
      {{/watches}}
    </ul>

    <!-- Intercepted request log template -->
    <div class="request-log-template">
      <div class="request-log">
        {{#matchers}}
        <div class="matcher">
          <div class="source">
            <span class="head">{{ohead}}</span><span class="body">{{obody}}</span><span class="tail">{{otail}}</span>
          </div>
          <div class="result">
            <span class="head">{{rhead}}</span><span class="body">{{rbody}}</span><span class="tail">{{rtail}}</span>
          </div>
        </div>
        {{/matchers}}
      </div>
    </div>

    <div class="request-trace-template">
      <div class="request-trace">
        <a href="{{url}}" target="_blank">{{url}}</a>
        <div class="paramlist">
          {{#paramlist}}
            {{{.}}}<br />
          {{/paramlist}}
        </div>
      </div>
    </div>

    <div class="notification-log-template">
      <div class="notification-log">
        <a href="{{url}}" target="_blank">{{url}}</a>
        <div class="paramlist">
          {{#paramlist}}
            {{{.}}}<br />
          {{/paramlist}}
        </div>
      </div>
    </div>
    
    <ul class="autofill-template">
      {{#autofills}}
      <li>
        <div class="entry">
          <input type="radio" class="toggle" name="autofills"/>
          <div class="form-data">
            <a href="#" class="pagename">{{pagename}}</a>
            <div class="field">
                <label>Notes</label>
                <input type="text" name="comment" value="{{comment}}"/>
                <input type="hidden" name="pagename" value="{{pagename}}"/>
                <input type="hidden" name="hostname" value="{{hostname}}"/>
            </div>
            <ol class="fields-list">
                {{#forms}}
                <li>
                  <form>
                  {{#.}}
                    <div class="field">
                        <label>{{name}}</label>
                        <input type="text" name="{{name}}" value="{{value}}" />
                    </div>
                  {{/.}}
                  </form>
                </li>
                {{/forms}}
            </ol>
          </div>
          <div class="del"></div>
        </div>
      </li>
      {{/autofills}}
    </ul>

    
    <div id="dialog-delete-form-entry" title="Confirmation">
      <p>This will delete the form data from local storage and cannot be undo!</p>
    </div>

    <div id="dialog-choose-form" title="Message">
      <p>Please choose a form entry!</p>
    </div>
  
    <div id="dialog-form-data" title="Access form data">
      <p>Please choose a form entry!</p>
    </div>

  </div>
</body>
</html>